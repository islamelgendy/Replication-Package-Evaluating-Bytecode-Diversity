public void testTruncatedData() throws IOException { System.out.println("Attempt to read the whole thing in, should throw ..."); ByteBuffer buffer = ByteBuffer.allocate(8192); bz2Channel.read(buffer); }
public void testPartialReadTruncatedData() throws IOException { final int length = TEXT.length(); ByteBuffer buffer = ByteBuffer.allocate(length); bz2Channel.read(buffer); assertArrayEquals(Arrays.copyOfRange(TEXT.getBytes(), 0, length), buffer.array()); buffer = ByteBuffer.allocate(1); try { bz2Channel.read(buffer); Assert.fail("The read should have thrown."); } catch (IOException e) { } }
